# 要件定義書：ポモドーロタイマー Web アプリ

**バージョン:** 1.0
**作成日:** 2025 年 4 月 19 日
**作成者:** (Gemini および ユーザー)

## 1. 概要 (Overview)

本ドキュメントは、Web ブラウザで動作するカスタマイズ可能なポモドーロタイマーアプリケーションの要件を定義するものです。ユーザーが作業時間と休憩時間を管理し、ポモドーロテクニックを用いて集中力を維持・向上させることを支援します。

### 1.1. アプリケーション名（仮）

シンプルポモドーロタイマー (Simple Pomodoro Timer)
※名称は開発中に変更される可能性があります。

### 1.2. 目的

- ポモドーロテクニックの実践を容易にする。
- ユーザーが集中して作業や学習に取り組める環境を提供する。
- シンプルで直感的、かつカスタマイズ可能なタイマー機能を提供する。

## 2. ターゲットユーザー (Target Users)

- 集中して作業や勉強に取り組みたい学生、社会人、フリーランスなど。
- ポモドーロテクニックを手軽に試したい、または日常的に利用したいユーザー。
- 自身の作業スタイルに合わせてタイマー設定をカスタマイズしたいユーザー。

## 3. 機能要件 (Functional Requirements)

### 3.1. タイマー機能 (MUST)

- **時間設定:** 以下の時間をユーザーが分単位で設定可能であること。
  - 作業時間 (デフォルト: 25 分)
  - 短い休憩時間 (デフォルト: 5 分)
  - 長い休憩時間 (デフォルト: 15 分)
- **繰り返し設定:** 短い休憩を何回繰り返した後に長い休憩に入るか、その回数をユーザーが設定可能であること (デフォルト: 4 回)。
- **自動/手動開始設定:** 以下の両方のタイミングについて、タイマーの自動開始か手動開始かをユーザーが個別に選択可能であること。
  - 作業時間終了後 → 休憩タイマー開始
  - 休憩時間終了後 → 作業タイマー開始
- **タイマー表示:**
  - 現在のモード（例: 作業中 / 短い休憩中 / 長い休憩中 / 一時停止中）を明確に表示すること。
  - 残り時間を `MM:SS` 形式でリアルタイムに表示すること。
- **タイマー操作:**
  - タイマーを `開始` する機能。
  - 動作中のタイマーを `一時停止` する機能。
  - 現在のタイマーサイクルを `リセット` し、次の作業セッション（または初期状態）に戻せる機能。
- **サイクル動作:** 設定された回数だけ「作業 → 短い休憩」を繰り返し、その後「長い休憩」に入ること。長い休憩後は次の「作業」セッションを開始すること。

### 3.2. 通知機能 (MUST)

- 作業時間、休憩時間の各タイマー終了時に、**サウンド**（1 種類）で通知すること。
- デスクトップ通知機能は実装しない。

### 3.3. 記録機能 (MUST)

- ポモドーロ（作業セッション）が**完了**した際、またはユーザーによって**中断**（リセット等）された際に、以下の情報を記録すること。
  - 記録情報: 開始時刻、終了時刻、完了/中断の別、その日の何回目のポモドーロ（作業セッション）か。
- 記録データはクライアント（ユーザーのブラウザ）の **`localStorage`** に保存すること。
- アプリケーションの UI 上に「**今日の完了したポモドーロ数**」を分かりやすく表示すること。

### 3.4. 設定保存機能 (MUST)

- ユーザーが設定した以下の項目をクライアントの **`localStorage`** に保存し、次回アプリケーションアクセス時にも設定が維持されること。
  - 各タイマー時間（作業、短休憩、長休憩）
  - 長い休憩までの繰り返し回数
  - 自動/手動開始の設定（2 箇所分）
  - 選択中の UI モード（ライト/ダーク）

### 3.5. UI モード (MUST)

- **ライトモード**と**ダークモード**の 2 つのテーマに対応すること。
- ユーザーが UI 上で容易にモードを切り替えられること。
- 選択されたモード設定は `localStorage` に保存されること (上記 3.4 参照)。

## 4. 非機能要件 (Non-Functional Requirements)

- **パフォーマンス:** タイマーは正確に動作し、UI の応答性は良好であること。
- **ユーザビリティ:** 初めてのユーザーでも直感的に操作できるシンプルで分かりやすいインターフェースであること。設定変更などが容易に行えること。
- **互換性:** 主要なモダン Web ブラウザ（Google Chrome, Mozilla Firefox, Apple Safari, Microsoft Edge の最新安定版）で正常に動作すること。
- **保守性:** コードはリーダブルであり、将来的な軽微な修正や機能追加が比較的容易に行えるように、コンポーネント分割などを適切に行うこと。

## 5. 技術構成 (Technical Stack)

- **フレームワーク:** Next.js (v14 以降を推奨)
- **言語:** TypeScript
- **UI ライブラリ:** Shadcn/ui (内部で Tailwind CSS を使用)
- **状態管理:** jotai(npm パッケージ)を使用する、 必要に応じてReact Hooks (`useState`, `useEffect`, `useReducer`, `useContext` 等、必要に応じて)
- **データ永続化:** `localStorage` (Web Storage API)
- **開発環境:** Node.js (LTS バージョン),  pnpm を使用
- **デプロイ先:** 未定（Vercel, Netlify 等の静的ホスティング/Next.js ホスティングサービスを想定）

## 6. 画面構成案 (Screen Layout Proposal)

- **メイン画面:** アプリケーションの主要なインターフェース。以下の要素を含む。
  - 現在のタイマーモード表示（例：「作業中」「休憩中」）
  - 大きなフォントでの残り時間表示 (`MM:SS`)
  - タイマー操作ボタン (`開始` / `一時停止` / `リセット`)
  - 設定画面を開くためのボタンまたはアイコン
  - 今日の完了ポモドーロ数を表示するエリア
  - UI モード（ライト/ダーク）を切り替えるためのボタンまたはスイッチ
- **設定画面:** メイン画面から遷移可能な画面（モーダルダイアログまたは別ビュー）。以下の設定項目を含む。
  - 作業時間、短い休憩、長い休憩の時間設定用の入力フィールド（数値入力など）
  - 長い休憩に入るまでの繰り返し回数を設定する入力フィールド
  - 自動/手動開始を設定するためのスイッチまたはラジオボタン（「作業 → 休憩」「休憩 → 作業」の 2 箇所）
  - 設定を保存または適用するためのボタン

## 7. 今後の拡張可能性 (Future Enhancements - Scope out)

以下の機能は今回のバージョンでは実装範囲外とするが、将来的な拡張候補として考えられる。

- 記録データの詳細な履歴表示（カレンダー表示、リスト表示、日付フィルタリングなど）
- 簡単なタスク名を入力・関連付ける機能
- 通知サウンドの選択・カスタマイズ機能
- 音量調整機能
- Web Push 通知による、ブラウザを閉じていてもタイマー終了を知らせる機能（Service Worker 利用）
- アカウント登録・ログインによる複数デバイスでの設定・記録の同期
- 多言語対応（国際化）
- デスクトップアプリ化
	- Tauriを用いて、デスクトップアプリ化する構想がある。

---
